{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{useState}from\"react\";import{addPost,getPostById}from\"../../../../redux/store\";import{Button,Container,Form}from\"react-bootstrap\";import{useNavigate,useParams}from\"react-router-dom\";import{addOrEditPost,authorInitState,contentInitState,getAddOrEditLabel,publishedDateInitState,shortDescriptionInitState,titleInitState}from\"./AddOrEditDifferenciator\";import{postObjectWithEmptyFields}from\"./AddOrEditHelper\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const PostAddOrEdit=_ref=>{let{actionType}=_ref;const dispatch=useDispatch();const navigate=useNavigate();const{id}=useParams();let post=useSelector(state=>getPostById(state,id));if(!id)post=postObjectWithEmptyFields;const[title,setTitle]=useState(titleInitState(actionType,post.title));const[shortDescription,setShortDescription]=useState(shortDescriptionInitState(actionType,post.shortDescription));const[content,setContent]=useState(contentInitState(actionType,post.content));const[publishedDate,setPublishedDate]=useState(publishedDateInitState(actionType,post.publishedDate));const[author,setAuthor]=useState(authorInitState(actionType,post.author));const handleSubmit=e=>{e.preventDefault();dispatch(addOrEditPost(actionType,id,title,shortDescription,content,publishedDate,author));navigate('/');};return/*#__PURE__*/_jsxs(Container,{className:\"py-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mb-4\",children:[getAddOrEditLabel(actionType),\" post\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter title\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Author\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter author\",value:author,onChange:e=>setAuthor(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Published\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",value:publishedDate,onChange:e=>setPublishedDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Short description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,placeholder:\"Leave a comment here\",value:shortDescription,onChange:e=>setShortDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Main content\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:8,placeholder:\"Leave a comment here\",value:content,onChange:e=>setContent(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-start\",children:/*#__PURE__*/_jsxs(Button,{variant:\"primary\",type:\"submit\",children:[getAddOrEditLabel(actionType),\" post\"]})})]})]});};export default PostAddOrEdit;","map":{"version":3,"names":["useDispatch","useSelector","useState","addPost","getPostById","Button","Container","Form","useNavigate","useParams","addOrEditPost","authorInitState","contentInitState","getAddOrEditLabel","publishedDateInitState","shortDescriptionInitState","titleInitState","postObjectWithEmptyFields","jsxs","_jsxs","jsx","_jsx","PostAddOrEdit","_ref","actionType","dispatch","navigate","id","post","state","title","setTitle","shortDescription","setShortDescription","content","setContent","publishedDate","setPublishedDate","author","setAuthor","handleSubmit","e","preventDefault","className","children","onSubmit","Group","Label","Control","type","placeholder","value","onChange","target","required","as","rows","variant"],"sources":["C:/Users/Lenovo/VSCodeProjects/React Projects/blog-app/src/components/pages/post/PostAddOrEdit/PostAddOrEdit.js"],"sourcesContent":["import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useState} from \"react\";\r\nimport {addPost, getPostById} from \"../../../../redux/store\";\r\nimport {Button, Container, Form} from \"react-bootstrap\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {\r\n  addOrEditPost,\r\n  authorInitState,\r\n  contentInitState, getAddOrEditLabel,\r\n  publishedDateInitState,\r\n  shortDescriptionInitState,\r\n  titleInitState\r\n} from \"./AddOrEditDifferenciator\";\r\nimport {postObjectWithEmptyFields} from \"./AddOrEditHelper\";\r\n\r\nconst PostAddOrEdit = ({actionType}) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const { id } = useParams();\r\n  let post = useSelector(state => getPostById(state, id));\r\n  if (!id) post = postObjectWithEmptyFields;\r\n\r\n  const [title, setTitle] = useState(titleInitState(actionType, post.title));\r\n  const [shortDescription, setShortDescription] = useState(shortDescriptionInitState(actionType, post.shortDescription));\r\n  const [content, setContent] = useState(contentInitState(actionType, post.content));\r\n  const [publishedDate, setPublishedDate] = useState(publishedDateInitState(actionType, post.publishedDate));\r\n  const [author, setAuthor] = useState(authorInitState(actionType, post.author));\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(addOrEditPost(actionType, id, title, shortDescription,\r\n      content, publishedDate, author));\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <h2 className=\"mb-4\">\r\n        {getAddOrEditLabel(actionType)} post\r\n      </h2>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Title</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter title\"\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Author</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter author\"\r\n            value={author}\r\n            onChange={e => setAuthor(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Published</Form.Label>\r\n          <Form.Control\r\n            type=\"date\"\r\n            value={publishedDate}\r\n            onChange={e => setPublishedDate(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Short description</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={3}\r\n            placeholder=\"Leave a comment here\"\r\n            value={shortDescription}\r\n            onChange={e => setShortDescription(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-4\">\r\n          <Form.Label>Main content</Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            rows={8}\r\n            placeholder=\"Leave a comment here\"\r\n            value={content}\r\n            onChange={e => setContent(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n\r\n        <div className=\"d-flex justify-content-start\">\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {getAddOrEditLabel(actionType)} post\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostAddOrEdit;"],"mappings":"AAAA,OAAQA,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,QAAQ,KAAO,OAAO,CAC9B,OAAQC,OAAO,CAAEC,WAAW,KAAO,yBAAyB,CAC5D,OAAQC,MAAM,CAAEC,SAAS,CAAEC,IAAI,KAAO,iBAAiB,CACvD,OAAQC,WAAW,CAAEC,SAAS,KAAO,kBAAkB,CACvD,OACEC,aAAa,CACbC,eAAe,CACfC,gBAAgB,CAAEC,iBAAiB,CACnCC,sBAAsB,CACtBC,yBAAyB,CACzBC,cAAc,KACT,2BAA2B,CAClC,OAAQC,yBAAyB,KAAO,mBAAmB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAACC,UAAU,CAAC,CAAAD,IAAA,CAEjC,KAAM,CAAAE,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA0B,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEmB,EAAG,CAAC,CAAGlB,SAAS,CAAC,CAAC,CAC1B,GAAI,CAAAmB,IAAI,CAAG3B,WAAW,CAAC4B,KAAK,EAAIzB,WAAW,CAACyB,KAAK,CAAEF,EAAE,CAAC,CAAC,CACvD,GAAI,CAACA,EAAE,CAAEC,IAAI,CAAGX,yBAAyB,CAEzC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAACc,cAAc,CAACQ,UAAU,CAAEI,IAAI,CAACE,KAAK,CAAC,CAAC,CAC1E,KAAM,CAACE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG/B,QAAQ,CAACa,yBAAyB,CAACS,UAAU,CAAEI,IAAI,CAACI,gBAAgB,CAAC,CAAC,CACtH,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGjC,QAAQ,CAACU,gBAAgB,CAACY,UAAU,CAAEI,IAAI,CAACM,OAAO,CAAC,CAAC,CAClF,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGnC,QAAQ,CAACY,sBAAsB,CAACU,UAAU,CAAEI,IAAI,CAACQ,aAAa,CAAC,CAAC,CAC1G,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGrC,QAAQ,CAACS,eAAe,CAACa,UAAU,CAAEI,IAAI,CAACU,MAAM,CAAC,CAAC,CAE9E,KAAM,CAAAE,YAAY,CAAGC,CAAC,EAAI,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBjB,QAAQ,CAACf,aAAa,CAACc,UAAU,CAAEG,EAAE,CAAEG,KAAK,CAAEE,gBAAgB,CAC5DE,OAAO,CAAEE,aAAa,CAAEE,MAAM,CAAC,CAAC,CAClCZ,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACEP,KAAA,CAACb,SAAS,EAACqC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACzBzB,KAAA,OAAIwB,SAAS,CAAC,MAAM,CAAAC,QAAA,EACjB/B,iBAAiB,CAACW,UAAU,CAAC,CAAC,OACjC,EAAI,CAAC,cACLL,KAAA,CAACZ,IAAI,EAACsC,QAAQ,CAAEL,YAAa,CAAAI,QAAA,eAC3BzB,KAAA,CAACZ,IAAI,CAACuC,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACd,IAAI,CAACwC,KAAK,EAAAH,QAAA,CAAC,OAAK,CAAY,CAAC,cAC9BvB,IAAA,CAACd,IAAI,CAACyC,OAAO,EACXC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,aAAa,CACzBC,KAAK,CAAErB,KAAM,CACbsB,QAAQ,CAAEX,CAAC,EAAIV,QAAQ,CAACU,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CACxCG,QAAQ,MACT,CAAC,EACQ,CAAC,cAEbnC,KAAA,CAACZ,IAAI,CAACuC,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACd,IAAI,CAACwC,KAAK,EAAAH,QAAA,CAAC,QAAM,CAAY,CAAC,cAC/BvB,IAAA,CAACd,IAAI,CAACyC,OAAO,EACXC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,cAAc,CAC1BC,KAAK,CAAEb,MAAO,CACdc,QAAQ,CAAEX,CAAC,EAAIF,SAAS,CAACE,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CACzCG,QAAQ,MACT,CAAC,EACQ,CAAC,cAEbnC,KAAA,CAACZ,IAAI,CAACuC,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACd,IAAI,CAACwC,KAAK,EAAAH,QAAA,CAAC,WAAS,CAAY,CAAC,cAClCvB,IAAA,CAACd,IAAI,CAACyC,OAAO,EACXC,IAAI,CAAC,MAAM,CACXE,KAAK,CAAEf,aAAc,CACrBgB,QAAQ,CAAEX,CAAC,EAAIJ,gBAAgB,CAACI,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAChDG,QAAQ,MACT,CAAC,EACQ,CAAC,cAEbnC,KAAA,CAACZ,IAAI,CAACuC,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACd,IAAI,CAACwC,KAAK,EAAAH,QAAA,CAAC,mBAAiB,CAAY,CAAC,cAC1CvB,IAAA,CAACd,IAAI,CAACyC,OAAO,EACXO,EAAE,CAAC,UAAU,CACbC,IAAI,CAAE,CAAE,CACRN,WAAW,CAAC,sBAAsB,CAClCC,KAAK,CAAEnB,gBAAiB,CACxBoB,QAAQ,CAAEX,CAAC,EAAIR,mBAAmB,CAACQ,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CACnDG,QAAQ,MACT,CAAC,EACQ,CAAC,cAEbnC,KAAA,CAACZ,IAAI,CAACuC,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC1BvB,IAAA,CAACd,IAAI,CAACwC,KAAK,EAAAH,QAAA,CAAC,cAAY,CAAY,CAAC,cACrCvB,IAAA,CAACd,IAAI,CAACyC,OAAO,EACXO,EAAE,CAAC,UAAU,CACbC,IAAI,CAAE,CAAE,CACRN,WAAW,CAAC,sBAAsB,CAClCC,KAAK,CAAEjB,OAAQ,CACfkB,QAAQ,CAAEX,CAAC,EAAIN,UAAU,CAACM,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACT,CAAC,EACQ,CAAC,cAEbjC,IAAA,QAAKsB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3CzB,KAAA,CAACd,MAAM,EAACoD,OAAO,CAAC,SAAS,CAACR,IAAI,CAAC,QAAQ,CAAAL,QAAA,EACpC/B,iBAAiB,CAACW,UAAU,CAAC,CAAC,OACjC,EAAQ,CAAC,CACN,CAAC,EACF,CAAC,EACE,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}